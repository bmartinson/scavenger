<scavenger-icon-holder class="animate">
  <scavenger-qr-find [waypointStatus]="waypointStatusIcon"></scavenger-qr-find>
</scavenger-icon-holder>

<h1 [@inOutAnimation]
    *ngIf="showTitle"
    [innerHTML]="title">
</h1>

<div [@inOutAnimation]
     *ngIf="showContent"
     class="content">
  <h2 [innerHTML]="subtitle"></h2>

  <p *ngIf="isOutOfOrder">
    You found the wrong waypoint! Double check any previous clues you've discovered and use them to visit all of the
    waypoints leading to this one! Only then can you unlock this waypoint!
  </p>

  <ng-container *ngIf="!isOutOfOrder">
    <h1>{{waypoint?.name}}</h1>
    <div [innerHTML]="waypoint?.description"></div>
    <div
         *ngIf="(waypoint?.interactiveType === 'audio' || waypoint?.interactiveType === 'video') && waypoint?.interactiveSrc">
      <vg-player>
        <vg-overlay-play *ngIf="waypoint?.interactiveType === 'video'"></vg-overlay-play>
        <vg-buffering></vg-buffering>

        <vg-scrub-bar>
          <vg-scrub-bar-current-time></vg-scrub-bar-current-time>
          <vg-scrub-bar-buffering-time></vg-scrub-bar-buffering-time>
        </vg-scrub-bar>

        <vg-controls>
          <vg-play-pause></vg-play-pause>

          <vg-time-display vgProperty="current"
                           vgFormat="mm:ss"></vg-time-display>

          <vg-scrub-bar style="pointer-events: none;"></vg-scrub-bar>

          <vg-mute></vg-mute>
          <vg-volume></vg-volume>

          <vg-fullscreen *ngIf="waypoint?.interactiveType === 'video'"></vg-fullscreen>
        </vg-controls>

        <audio *ngIf="waypoint?.interactiveType === 'audio'"
               [vgMedia]="audioMedia"
               #audioMedia
               id="interactiveAudio"
               preload="auto"
               [autoplay]="true"
               crossorigin>
          <source [src]="waypoint?.interactiveSrc">
        </audio>
        <video *ngIf="waypoint?.interactiveType === 'video'"
               [vgMedia]="media"
               #media
               id="interactiveVideo"
               preload="auto"
               [autoplay]="waypoint?.interactiveType === 'audio'"
               crossorigin>
          <source [src]="waypoint?.interactiveSrc">
        </video>
      </vg-player>
    </div>
    <div *ngIf="waypoint?.interactiveType === 'image'"
         class="image-container">
      <img [src]="waypoint?.interactiveSrc">
    </div>

    <div *ngIf="waypoint?.clues?.length > 0"
         class="clues-section">
      <h2>Your Next Clues</h2>
      <div class="clues">
        <div class="icon">
          <fa-icon [icon]="['fas', 'hiking']">
          </fa-icon>
        </div>
        <ul>
          <li *ngFor="let clue of waypoint.clues">{{clue}}</li>
        </ul>
      </div>
    </div>
  </ng-container>

</div>
